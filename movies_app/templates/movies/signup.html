{% extends 'common.html' %}
{% load static %}

{% block imports %} 
    <link rel="stylesheet" href="{% static "styles/form.css" %}"> 

{% endblock imports %} 
 
{% block content %}
    <main class="form-signin w-50 text-center">
        <form class="form" method="post">
        {% csrf_token %}
            <h1 class="h3 mb-5 fw-normal">Please sign up</h1>
            
            <div class="mb-2">
                <input type="text" class="form-control {{ errors.username|yesno:"is-invalid," }}" name="username" required placeholder="Username" value="{% firstof data.username '' %}">
                <div class="invalid-feedback">
                    {{errors.username.0}}
                </div>
            </div>

            <div class="mb-2">
                <input type="email" class="form-control {{ errors.email|yesno:"is-invalid," }}" name="email" required placeholder="E-mail" value="{% firstof data.email '' %}">
                <div class="invalid-feedback">
                    {{errors.email.0}}
                </div>
            </div>
            
            <div class="mb-2">
                <input type="password" class="form-control {{ errors.password|yesno:"is-invalid," }}" name="password" required placeholder="Password">
                <div class="invalid-feedback">
                    {{errors.password.0}}
                </div>
            </div>

            <div style="text-align:center;">
                Optional
            </div>
        
            <hr>

            <div class="mb-2">
                <input type="firstname" class="form-control {{ errors.firstname|yesno:"is-invalid," }}" name="first_name" placeholder="Firstname">
                <div class="invalid-feedback">
                    {{errors.first_name.0}}
                </div>
            </div>
           
            <div class="mb-2">
                <input type="lastname" class="form-control {{ errors.lastname|yesno:"is-invalid," }}" name="last_name" placeholder="Lastname">
                <div class="invalid-feedback">
                    {{errors.last_name.0}}
                </div>
            </div>
            
            <div class="mb-2">
                <input type="phone" class="form-control {{ errors.phone|yesno:"is-invalid," }}" name="phone" placeholder="Phone">
                <div class="invalid-feedback">
                    {{errors.phone.0}}
                </div>
            </div>
            
            <div class="mb-2">
                <input type="date" 
                    id="birthdate" 
                    name="birthdate"
                    min="1940-00-00" 
                    defaultValue="2021-08-01"
                    class="form-control {{ errors.phone|yesno:"is-invalid," }}"
                    >
                <div class="invalid-feedback">
                    {{errors.birthdate.0}}
                </div>
            </div>

            <div class="checkbox mb-2">
                <label>
                    <input type="checkbox" value="login" checked> Log in
                </label>
            </div>
            
            <button class="w-100 btn btn-lg btn-primary py-1" type="submit">Sign up</button>
        </form>
    </main>

    {% if success %}
        <script defer> 
            alert('Please confirm your email address')
        </script>
    {% endif %}
{% endblock content %}
